# Git-Manual
[TOC]

---

# Gitæ–‡ä»¶çš„ä¸‰ç§çŠ¶æ€

- `å·²ä¿®æ”¹ï¼ˆmodifiedï¼‰`   ï¼šè¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡ä¿å­˜åˆ°æ•°æ®åº“ä¸­  
- `å·²æš‚å­˜ï¼ˆstagedï¼‰  `        ï¼šè¡¨ç¤ºå¯¹ä¸€ä¸ªå·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å«åœ¨ä¸‹æ¬¡æäº¤çš„å¿«ç…§ä¸­  
- `å·²æäº¤ï¼ˆcommittedï¼‰` ï¼šè¡¨ç¤ºæ•°æ®å·²ç»å®‰å…¨åœ°ä¿å­˜åœ¨`æœ¬åœ°æ•°æ®åº“`ä¸­  

![202203061427216](assets/202203061427216.png)

åŸºæœ¬çš„ Git å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š

1. åœ¨å·¥ä½œåŒºä¸­ä¿®æ”¹æ–‡ä»¶ï¼ˆ**modified**ï¼‰
2. å°†ä½ æƒ³è¦ä¸‹æ¬¡æäº¤çš„æ›´æ”¹é€‰æ‹©æ€§åœ°æš‚å­˜ï¼Œè¿™æ ·åªä¼šå°†æ›´æ”¹çš„éƒ¨åˆ†æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆ**staged**ï¼šgit addï¼‰
3. æäº¤æ›´æ–°ï¼Œæ‰¾åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œå°†å¿«ç…§æ°¸ä¹…æ€§å­˜å‚¨åˆ° Git ç›®å½•ï¼ˆ**committed**ï¼šgit commitï¼‰

# åˆæ¬¡è¿è¡Œ Git å‰çš„é…ç½®  

## è®¾ç½®ç”¨æˆ·ä¿¡æ¯

å®‰è£…å®Œ Git ä¹‹åï¼Œè¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯è®¾ç½®ç”¨æˆ·åå’Œé‚®ä»¶åœ°å€ã€‚å› ä¸ºæ¯ä¸€æ¬¡ Git æäº¤éƒ½ä¼šä½¿ç”¨è¿™äº›ä¿¡æ¯ï¼Œå®ƒä»¬ä¼šå†™å…¥åˆ°ä½ çš„æ¯ä¸€æ¬¡æäº¤ä¸­ï¼Œä¸å¯æ›´æ”¹ï¼š  

> git config --global user.name "John Doe"
> git config --global user.email johndoe@example.com  

âœ¨ï¼šå¦‚æœä½¿ç”¨äº† **`--global`** é€‰é¡¹ï¼Œè¡¨ç¤ºä½ è¿™å°æœºå™¨ä¸Šæ‰€æœ‰çš„Gitä»“åº“éƒ½ä¼šä½¿ç”¨è¿™ä¸ªé…ç½®

å¦‚æœæƒ³é’ˆå¯¹ç‰¹å®šé¡¹ç›®ä½¿ç”¨ä¸åŒçš„ç”¨æˆ·åç§°ä¸é‚®ä»¶åœ°å€æ—¶ï¼Œå¯ä»¥åœ¨é‚£ä¸ªé¡¹ç›®ç›®å½•ä¸‹è¿è¡Œæ²¡æœ‰ --global é€‰é¡¹çš„å‘½ä»¤æ¥é…ç½®  

### æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯

> git config --global user.name 
> git config --global user.email  

![git](assets/git-165976257813312.gif)

## è®¾ç½®æ–‡æœ¬ç¼–è¾‘å™¨

> $ git config --global core.editor â€œâ€  

*åœ¨ Windows ç³»ç»Ÿä¸Šï¼Œå¦‚æœä½ æƒ³è¦ä½¿ç”¨åˆ«çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œé‚£ä¹ˆå¿…é¡»æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„*

> $ git config --global core.editor â€œ'E:/SublimeText/sublime_text.exe' --replace-allâ€

### æ£€æŸ¥é…ç½®

å¦‚æœæƒ³è¦æ£€æŸ¥ä½ çš„é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ `git config --list` å‘½ä»¤æ¥åˆ—å‡ºæ‰€æœ‰ Git å½“å‰èƒ½æ‰¾åˆ°çš„é…ç½®  

## åˆ›å»ºç‰ˆæœ¬åº“

é€šå¸¸æœ‰ä¸¤ç§åˆ›å»º Git é¡¹ç›®ä»“åº“çš„æ–¹å¼ï¼š

- å°†å°šæœªè¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„æœ¬åœ°ç›®å½•è½¬æ¢ä¸º Git ä»“åº“

- ä»å…¶å®ƒæœåŠ¡å™¨ å…‹éš† ä¸€ä¸ªå·²å­˜åœ¨çš„ Git ä»“åº“

    *ä¸¤ç§æ–¹å¼éƒ½ä¼šåœ¨ä½ çš„æœ¬åœ°æœºå™¨ä¸Šå¾—åˆ°ä¸€ä¸ªå·¥ä½œå°±ç»ªçš„ Git ä»“åº“*

### æœ¬åœ°ç›®å½•

  **å¦‚æœä½ æœ‰ä¸€ä¸ªå°šæœªè¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„é¡¹ç›®ç›®å½•ï¼Œæƒ³è¦ç”¨ Git æ¥æ§åˆ¶å®ƒï¼Œé‚£ä¹ˆé¦–å…ˆéœ€è¦è¿›å…¥è¯¥é¡¹ç›®ç›®å½•ä¸­**

  åœ¨ Windows ä¸Šï¼šä¹Ÿå¯ä»¥ç›´æ¥è¿›å…¥è¯¥æ–‡ä»¶å¤¹ä½ç½®ï¼Œç„¶åå³é”®Git Bash Hereï¼Œåœ¨å½“å‰æ–‡ä»¶å¤¹æ‰“å¼€Git Bashï¼Œä¹‹åæ‰§è¡Œï¼š

  > $ git init  

  è¯¥å‘½ä»¤å°†åˆ›å»ºä¸€ä¸ªåä¸º .git çš„å­ç›®å½•ï¼Œè¿™ä¸ªå­ç›®å½•å«æœ‰ä½ åˆå§‹åŒ–çš„ Git ä»“åº“ä¸­æ‰€æœ‰çš„å¿…é¡»æ–‡ä»¶ã€‚ 

  **å¦‚æœåœ¨ä¸€ä¸ªå·²å­˜åœ¨æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼ˆè€Œéç©ºæ–‡ä»¶å¤¹ï¼‰ä¸­è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œä½ åº”è¯¥å¼€å§‹è¿½è¸ªè¿™äº›æ–‡ä»¶å¹¶è¿›è¡Œåˆå§‹æäº¤ã€‚å¯ä»¥é€šè¿‡ `git add` å‘½ä»¤æ¥æŒ‡å®šæ‰€éœ€çš„æ–‡ä»¶æ¥è¿›è¡Œè¿½è¸ªï¼Œç„¶åæ‰§è¡Œ `git commit`**  

  >  git add readme.txt
  >  $ git commit -m 'wrote a readme file'  

![git](assets/git-16597516686452.gif)

### å…‹éš†ç°æœ‰çš„ä»“åº“  

  å…‹éš†ä»“åº“çš„å‘½ä»¤æ˜¯ `git clone <url>` ã€‚ æ¯”å¦‚ï¼Œè¦å…‹éš† Git çš„é“¾æ¥åº“ `libgit2`ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š  

  > $ git clone https://github.com/libgit2/libgit2  

  å¦‚æœä½ æƒ³åœ¨å…‹éš†è¿œç¨‹ä»“åº“çš„æ—¶å€™ï¼Œè‡ªå®šä¹‰æœ¬åœ°ä»“åº“çš„åå­—ï¼Œä½ å¯ä»¥é€šè¿‡é¢å¤–çš„å‚æ•°æŒ‡å®šæ–°çš„ç›®å½•åï¼š  

  > $ git clone https://github.com/libgit2/libgit2 mylibgit  

  è¿™ä¼šæ‰§è¡Œä¸ä¸Šä¸€æ¡å‘½ä»¤ç›¸åŒçš„æ“ä½œï¼Œä½†ç›®æ ‡ç›®å½•åå˜ä¸ºäº† `mylibgit`  

![git](assets/git-16597518735754.gif)

# æ–‡ä»¶çŠ¶æ€  

å·¥ä½œç›®å½•ä¸‹çš„æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½ä¸å¤–ä¹è¿™ä¸¤ç§çŠ¶æ€ï¼š**å·²è·Ÿè¸ª** æˆ– **æœªè·Ÿè¸ª**  

- `å·²è·Ÿè¸ª`ï¼šæŒ‡é‚£äº›è¢«çº³å…¥äº†ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ï¼Œåœ¨ä¸Šä¸€æ¬¡å¿«ç…§ä¸­æœ‰å®ƒä»¬çš„è®°å½•ï¼Œåœ¨å·¥ä½œä¸€æ®µæ—¶é—´åï¼Œ å®ƒä»¬çš„çŠ¶æ€å¯èƒ½æ˜¯ï¼š

    - æœªä¿®æ”¹
    - å·²ä¿®æ”¹ï¼ˆ**modified**ï¼‰
    - å·²æš‚å­˜ï¼ˆ**staged**ï¼‰

    ç®€è€Œè¨€ä¹‹ï¼Œå·²è·Ÿè¸ªçš„æ–‡ä»¶å°±æ˜¯ Git å·²ç»çŸ¥é“çš„æ–‡ä»¶ã€‚ 

- `æœªè·Ÿè¸ª`ï¼šå·¥ä½œç›®å½•ä¸­é™¤å·²è·Ÿè¸ªæ–‡ä»¶å¤–çš„å…¶å®ƒæ‰€æœ‰æ–‡ä»¶éƒ½å±äºæœªè·Ÿè¸ªæ–‡ä»¶ï¼Œå®ƒä»¬æ—¢ä¸å­˜åœ¨äºä¸Šæ¬¡å¿«ç…§çš„è®°å½•ä¸­ï¼Œä¹Ÿæ²¡æœ‰è¢«æ”¾å…¥æš‚å­˜åŒºã€‚ 

    åˆæ¬¡å…‹éš†æŸä¸ªä»“åº“çš„æ—¶å€™ï¼Œå·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶éƒ½å±äºå·²è·Ÿè¸ªæ–‡ä»¶ï¼Œå¹¶å¤„äºæœªä¿®æ”¹çŠ¶æ€ï¼Œå› ä¸º Gitåˆšåˆšæ£€å‡ºäº†å®ƒä»¬ï¼Œ è€Œä½ å°šæœªç¼–è¾‘è¿‡å®ƒä»¬ã€‚  

    ![202203061427381](assets/202203061427381.png)

## è·å–æ–‡ä»¶çŠ¶æ€

å¯ä»¥ç”¨ `git status` å‘½ä»¤æŸ¥çœ‹å“ªäº›æ–‡ä»¶å¤„äºä»€ä¹ˆçŠ¶æ€ã€‚ å¦‚æœåœ¨å…‹éš†ä»“åº“åç«‹å³ä½¿ç”¨æ­¤å‘½ä»¤ï¼Œä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡º  

> $ git status
> On branch master
> Your branch is up-to-date with 'origin/master'.
> nothing to commit, working directory clean  

![git](assets/git-16597522910216.gif)

### è·Ÿè¸ªæ–°æ–‡ä»¶  

ä½¿ç”¨å‘½ä»¤ `git add` å¼€å§‹è·Ÿè¸ªä¸€ä¸ªæ–‡ä»¶ã€‚ æ‰€ä»¥ï¼Œè¦è·Ÿè¸ª `README.txt` æ–‡ä»¶ï¼Œè¿è¡Œï¼š  

> $ git add README.txt

æ³¨ï¼š

-  `Changes to be committed` ï¼šè¯´æ˜æ–‡ä»¶æ˜¯å·²æš‚å­˜çŠ¶æ€
-   å‡ºç°åœ¨ `Changes not staged for commit` ï¼šè¯´æ˜å·²è·Ÿè¸ªæ–‡ä»¶çš„å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œä½†è¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºã€‚  è¦æš‚å­˜è¿™æ¬¡æ›´æ–°ï¼Œéœ€è¦è¿è¡Œ `git add` å‘½ä»¤

![git](assets/git-16597528906848.gif)

`git add` å‘½ä»¤ï¼Œè¿˜èƒ½ç”¨äºåˆå¹¶æ—¶æŠŠæœ‰å†²çªçš„æ–‡ä»¶æ ‡è®°ä¸ºå·²è§£å†³çŠ¶æ€ç­‰ã€‚   

### çŠ¶æ€ç®€è§ˆ  

`git status` å‘½ä»¤çš„è¾“å‡ºååˆ†è¯¦ç»†ï¼Œä½†å…¶ç”¨è¯­æœ‰äº›ç¹çã€‚ä½¿ç”¨ `git status -s` å‘½ä»¤ç¼©çŸ­çŠ¶æ€å‘½ä»¤çš„è¾“å‡º 

- `??`   ï¼šæ–°æ·»åŠ çš„æœªè·Ÿè¸ªæ–‡ä»¶  
- `A`    ï¼šæ–°æ·»åŠ åˆ°æš‚å­˜åŒºä¸­çš„æ–‡ä»¶  
- `M`    ï¼šä¿®æ”¹è¿‡çš„æ–‡ä»¶  
- `MM`  ï¼šæ–‡ä»¶æš‚å­˜ååˆä½œäº†ä¿®æ”¹  

![image-20220806102958185](assets/image-20220806102958185.png)

### æ¯”è¾ƒæ–‡ä»¶  

`git diff` å‘½ä»¤æ¯”è¾ƒçš„æ˜¯**æš‚å­˜åŒº**å’Œ**å·¥ä½œåŒº**ä¸­æ–‡ä»¶çš„å·®å¼‚

```markdown
æš‚å­˜åŒºï¼š
Git is a version control system.
Git is free software.
```

```markdown
å·¥ä½œåŒºï¼š
Git is a distributed version control system.
Git is free software.
```

![image-20220806103922493](assets/image-20220806103922493.png)

`git diff --staged`å‘½ä»¤æ¯”è¾ƒçš„æ˜¯**æš‚å­˜åŒº**å’Œæœ€åä¸€æ¬¡æäº¤åˆ°**Gitåº“**ä¸­æ–‡ä»¶çš„å·®å¼‚

### å¿½ç•¥æ–‡ä»¶

å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸º `.gitignore` çš„æ–‡ä»¶ï¼Œåˆ—å‡ºè¦å¿½ç•¥çš„æ–‡ä»¶çš„æ¨¡å¼  ã€‚

# æäº¤æ›´æ–°  

æ¯æ¬¡å‡†å¤‡æäº¤å‰ï¼Œå…ˆç”¨ `git status` çœ‹ä¸‹ï¼Œæ‰€éœ€è¦çš„æ–‡ä»¶æ˜¯ä¸æ˜¯éƒ½å·²æš‚å­˜èµ·æ¥äº†ï¼Œ ç„¶åå†è¿è¡Œæäº¤å‘½ä»¤`git commit`ï¼š  

> $ git commit -v 

æ³¨ï¼šæ›´è¯¦ç»†çš„å†…å®¹æç¤ºå¯ä»¥ç”¨  `-v` :å°†ä½ æ‰€åšçš„æ›´æ”¹ diff è¾“å‡ºå‘ˆç°åœ¨ç¼–è¾‘å™¨ä¸­

> $ git commit  -m æäº¤ä¿¡æ¯

å¯ä»¥åœ¨ commit å‘½ä»¤åæ·»åŠ  `-m` é€‰é¡¹ï¼Œå°†æäº¤ä¿¡æ¯ä¸å‘½ä»¤æ”¾åœ¨åŒä¸€è¡Œ  

> $ git commit -a

Gitä¼šè‡ªåŠ¨æŠŠæ‰€æœ‰å·²ç»è·Ÿè¸ªè¿‡çš„æ–‡ä»¶æš‚å­˜èµ·æ¥ä¸€å¹¶æäº¤ï¼Œè·³è¿‡ `git add` æ­¥éª¤ã€‚

# ç§»é™¤æ–‡ä»¶  

- ä½¿ç”¨ `git rm` å‘½ä»¤

    - `git rm -f`ï¼šåˆ é™¤ä¹‹å‰ä¿®æ”¹è¿‡æˆ–å·²ç»æ”¾åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶ï¼ˆå·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶è¢«åˆ é™¤ï¼‰
    - `git rm --cached`ï¼šä»æš‚å­˜åŒºåŸŸç§»é™¤ï¼Œä½†ä»ç„¶å¸Œæœ›ä¿ç•™åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ï¼ˆæ–‡ä»¶ä¸åœ¨è¢«è·Ÿè¸ªï¼‰

# åˆ é™¤æ–‡ä»¶

> $ rm a.txt

åˆ é™¤ a.txt æ–‡ä»¶

## å¤åŸæ–‡ä»¶

æ‰¾å›è¢«åˆ é™¤çš„æ–‡ä»¶ï¼Œå¹¶æ¢å¤åˆ°æœ€æ–°ç‰ˆæœ¬ï¼ˆ*ä¼šä¸¢å¤±æœ€è¿‘ä¸€æ¬¡æäº¤åä½ ä¿®æ”¹çš„å†…å®¹*ï¼‰ã€‚

> $ git checkout

![image-20220806113142262](assets/image-20220806113142262.png)

`git checkout`å…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥â€œä¸€é”®è¿˜åŸâ€ã€‚

ğŸŠæ³¨æ„ï¼š*ä»æ¥æ²¡æœ‰è¢«æ·»åŠ åˆ°ç‰ˆæœ¬åº“å°±è¢«åˆ é™¤çš„æ–‡ä»¶ï¼Œæ˜¯æ— æ³•æ¢å¤çš„ï¼*

# æŸ¥çœ‹æäº¤å†å²è®°å½•  

å›é¡¾æäº¤å†å²ï¼Œå®Œæˆè¿™ä¸ªä»»åŠ¡æœ€ç®€å•è€Œåˆæœ‰æ•ˆçš„å·¥å…·æ˜¯ `git log` å‘½ä»¤ ï¼Œä»ä¸Šåˆ°ä¸‹æ˜¾â½°**æœ€è¿‘**åˆ°**æœ€è¿œ**çš„æäº¤è®°å½•  ã€‚

![image-20220806110437940](assets/image-20220806110437940.png)

`git log` çš„å¸¸ç”¨é€‰é¡¹  ï¼š

| é€‰é¡¹            | è¯´æ˜                                                         |
| --------------- | ------------------------------------------------------------ |
| -p              | æŒ‰è¡¥ä¸æ ¼å¼æ˜¾ç¤ºæ¯ä¸ªæäº¤å¼•å…¥çš„å·®å¼‚ã€‚                           |
| --stat          | æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„æ–‡ä»¶ä¿®æ”¹ç»Ÿè®¡ä¿¡æ¯ã€‚                             |
| --shortstat     | åªæ˜¾ç¤º --stat ä¸­æœ€åçš„è¡Œæ•°ä¿®æ”¹æ·»åŠ ç§»é™¤ç»Ÿè®¡ã€‚                 |
| --name-only     | ä»…åœ¨æäº¤ä¿¡æ¯åæ˜¾ç¤ºå·²ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•ã€‚                         |
| --name-status   | æ˜¾ç¤ºæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤çš„æ–‡ä»¶æ¸…å•ã€‚                             |
| --abbrev-commit | ä»…æ˜¾ç¤º SHA-1 æ ¡éªŒå’Œæ‰€æœ‰ 40 ä¸ªå­—ç¬¦ä¸­çš„å‰å‡ ä¸ªå­—ç¬¦ã€‚            |
| --relative-date | ä½¿ç”¨è¾ƒçŸ­çš„ç›¸å¯¹æ—¶é—´è€Œä¸æ˜¯å®Œæ•´æ ¼å¼æ˜¾ç¤ºæ—¥æœŸï¼ˆæ¯”å¦‚â€œ2 weeks agoâ€ï¼‰ã€‚ |
| --graph         | åœ¨æ—¥å¿—æ—ä»¥ ASCII å›¾å½¢æ˜¾ç¤ºåˆ†æ”¯ä¸åˆå¹¶å†å²ã€‚                    |
| --pretty        | ä½¿ç”¨å…¶ä»–æ ¼å¼æ˜¾ç¤ºå†å²æäº¤ä¿¡æ¯ã€‚å¯ç”¨çš„é€‰é¡¹åŒ…æ‹¬ onelineã€shortã€fullã€fuller å’Œ formatï¼ˆç”¨æ¥å®šä¹‰è‡ªå·±çš„æ ¼å¼ï¼‰ã€‚ |
| --oneline       | --pretty=oneline --abbrev-commit åˆç”¨çš„ç®€å†™                  |

é™åˆ¶ `git log` è¾“å‡ºçš„é€‰é¡¹  

| -<n>              | ä»…æ˜¾ç¤ºæœ€è¿‘çš„ n æ¡æäº¤ã€‚                    |
| ----------------- | ------------------------------------------ |
| --since, --after  | ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹åçš„æäº¤ã€‚                 |
| --until, --before | ä»…æ˜¾ç¤ºæŒ‡å®šæ—¶é—´ä¹‹å‰çš„æäº¤ã€‚                 |
| --author          | ä»…æ˜¾ç¤ºä½œè€…åŒ¹é…æŒ‡å®šå­—ç¬¦ä¸²çš„æäº¤ã€‚           |
| --committer       | ä»…æ˜¾ç¤ºæäº¤è€…åŒ¹é…æŒ‡å®šå­—ç¬¦ä¸²çš„æäº¤ã€‚         |
| --grep            | ä»…æ˜¾ç¤ºæäº¤è¯´æ˜ä¸­åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„æäº¤ã€‚     |
| -S                | ä»…æ˜¾ç¤ºæ·»åŠ æˆ–åˆ é™¤å†…å®¹åŒ¹é…æŒ‡å®šå­—ç¬¦ä¸²çš„æäº¤ã€‚ |

# å›é€€ç‰ˆæœ¬

åœ¨Gitä¸­ï¼Œç”¨`HEAD`è¡¨ç¤ºå½“å‰ç‰ˆæœ¬ã€‚ä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯`HEAD^`ï¼Œä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯`HEAD^^`ï¼Œå¾€ä¸Š100ä¸ªç‰ˆæœ¬å†™100ä¸ª`^`æ¯”è¾ƒå®¹æ˜“æ•°ä¸è¿‡æ¥ï¼Œæ‰€ä»¥å†™æˆ`HEAD~100`ã€‚

é€€å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬

> git reset --hard  head^

é€€å›åˆ°ä¸Šä¸Šä¸ªç‰ˆæœ¬

> git reset --hard  head^^

é€€å›åˆ°ç¬¬xä¸ªç‰ˆæœ¬

> git reset --hard  head~x

æ˜¾ç¤ºå†å²æ“ä½œè®°å½•

> $ git reflog  

![image-20220806111708019](assets/image-20220806111708019.png)

æ ¹æ® commit id å›åˆ°ä¹‹å‰çš„æŸä¸ªç‰ˆæœ¬

> git reset --hard  commit-id

![image-20220806111645066](assets/image-20220806111645066.png)

# æ’¤é”€ä¿®æ”¹

> $ git restore  a.txt

å‘½ä»¤git restore  a.txtæ„æ€å°±æ˜¯æŠŠ a.txtæ–‡ä»¶åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æƒ…å†µï¼š  

- ä¿®æ”¹åè¿˜æ²¡æœ‰è¢«æ”¾åˆ°æš‚å­˜åŒºï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°å’Œç‰ˆæœ¬åº“ä¸­æ–‡ä»¶ä¸€æ¨¡â¼€æ ·çš„çŠ¶æ€  
- å·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºåï¼Œåˆä½œäº†ä¿®æ”¹ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°æš‚å­˜åŒºä¸­æ–‡ä»¶çš„çŠ¶æ€  

*æœ¬åœ°ç‰ˆæœ¬åº“æ¨é€åˆ°è¿œç¨‹ç‰ˆæœ¬åº“åï¼Œæ— æ³•ä¿®æ”¹ã€‚*

# é‡æ–°æäº¤

æäº¤å®Œäº†æ‰å‘ç°æ¼æ‰äº†å‡ ä¸ªæ–‡ä»¶æ²¡æœ‰æ·»åŠ ï¼Œæˆ–è€…æäº¤ä¿¡æ¯å†™é”™äº†  

> $ git commit --amend  

è¿™ä¸ªå‘½ä»¤ä¼šå°†æš‚å­˜åŒºä¸­çš„æ–‡ä»¶æäº¤ã€‚ å¦‚æœåœ¨ä¸Šæ¬¡æäº¤åé©¬ä¸Šæ‰§è¡Œäº†æ­¤å‘½ä»¤ï¼Œ é‚£ä¹ˆå¿«ç…§ä¼šä¿æŒä¸å˜ï¼Œè€Œæ‰€ä¿®æ”¹çš„åªæ˜¯æäº¤ä¿¡æ¯ã€‚
æ–‡æœ¬ç¼–è¾‘å™¨å¯åŠ¨åï¼Œå¯ä»¥çœ‹åˆ°ä¹‹å‰çš„æäº¤ä¿¡æ¯ã€‚ ç¼–è¾‘åä¿å­˜ä¼šè¦†ç›–åŸæ¥çš„æäº¤ä¿¡æ¯ã€‚  ï¼ˆæœ€ç»ˆä½ åªä¼šæœ‰ä¸€ä¸ªæäº¤â€”â€”ç¬¬äºŒæ¬¡æäº¤å°†ä»£æ›¿ç¬¬ä¸€æ¬¡æäº¤çš„ç»“æœ  ï¼‰ 

# å…³è”è¿œç¨‹ä»“åº“

`git remote add <shortname> <url>`   æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ Git ä»“åº“ï¼ŒåŒæ—¶æŒ‡å®šä¸€ä¸ªæ–¹ä¾¿ä½¿ç”¨çš„ç®€å†™

- **shortname**ï¼šè¿œç¨‹ä»“åº“ç®€å†™ï¼Œè¿œç¨‹åº“çš„åå­—å°±æ˜¯`origin`
- **url**ï¼šè¿œç¨‹ä»“åº“åœ°å€

![image-20220806113943099](assets/image-20220806113943099.png)

`git remote -v`ä¼šæ˜¾ç¤ºéœ€è¦è¯»å†™è¿œç¨‹ä»“åº“ä½¿ç”¨çš„ Git ä¿å­˜çš„ç®€å†™ä¸å…¶å¯¹åº”çš„ URL  

![image-20220806114045204](assets/image-20220806114045204.png)

## æ¨é€åˆ°è¿œç¨‹ä»“åº“  

ç”¨`git push`å‘½ä»¤ï¼Œæ˜¯æŠŠå½“å‰åˆ†æ”¯`master`æ¨é€åˆ°è¿œç¨‹ã€‚

> `git push <shortname> <branch>`  

![image-20220806114530392](assets/image-20220806114530392.png)

ç”±äºè¿œç¨‹åº“æ˜¯ç©ºçš„ï¼Œç¬¬ä¸€æ¬¡æ¨é€`master`åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šäº†`-u`å‚æ•°ï¼ŒGitä¸ä½†ä¼šæŠŠæœ¬åœ°çš„`master`åˆ†æ”¯å†…å®¹æ¨é€çš„è¿œç¨‹æ–°çš„`master`åˆ†æ”¯ï¼Œè¿˜ä¼šæŠŠæœ¬åœ°çš„`master`åˆ†æ”¯å’Œè¿œç¨‹çš„`master`åˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åçš„æ¨é€æˆ–è€…æ‹‰å–æ—¶å°±å¯ä»¥ç®€åŒ–å‘½ä»¤ã€‚

*githubä½¿ç”¨çš„ä¸»åˆ†æ”¯ä¸º `main`*

## ä»è¿œç¨‹ä»“åº“ä¸­æ‹‰å– 

ä»è¿œç¨‹ä»“åº“ä¸­æ‹‰å–æ‰€æœ‰ä½ æœ¬åœ°è¿˜æ²¡æœ‰çš„æ•°æ®ã€‚ æ‰§è¡Œå®Œæˆåï¼Œä½ å°†ä¼šæ‹¥æœ‰é‚£ä¸ªè¿œç¨‹ä»“åº“ä¸­æ‰€æœ‰åˆ†æ”¯çš„å¼•ç”¨ï¼Œå¯ä»¥éšæ—¶åˆå¹¶æˆ–æŸ¥çœ‹   

> `git fetch <shortname>`  

## æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯  

> `git remote -v <shortname>`   

## è¿œç¨‹ä»“åº“çš„é‡å‘½åä¸åˆ é™¤ 

### é‡å‘½å

> `git remote <shortname-old> <shortname-new>`  

![image-20220709162754675](assets/image-20220709162754675.png)

### åˆ é™¤è¿œç¨‹ä»“åº“

è§£é™¤äº†æœ¬åœ°å’Œè¿œç¨‹çš„ç»‘å®šå…³ç³»ï¼Œå¹¶ä¸æ˜¯ç‰©ç†ä¸Šåˆ é™¤äº†è¿œç¨‹åº“ã€‚è¿œç¨‹åº“æœ¬èº«å¹¶æ²¡æœ‰ä»»ä½•æ”¹åŠ¨ã€‚

> `git remote rm <shortname>`

# åˆ†æ”¯ç®¡ç†

## åˆ›å»ºæ–°åˆ†æ”¯

- åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯  

> `git checkout -b <branch-name>`

- ä»…**åˆ›å»º** ä¸€ä¸ªæ–°åˆ†æ”¯

> `git branch  <branch-name>`

## åˆ†æ”¯åˆ‡æ¢

> `git checkout <branch-name>`

---

![image-20220806122044426](assets/image-20220806122044426.png)

```mermaid
%%{init: { 'logLevel': 'debug', 'theme': 'base', 'gitGraph': {'showBranches': true, 'showCommitLabel':true,'mainBranchName': 'master'}} }%%
gitGraph
   commit
   commit
   commit
   commit
   commit
   commit id: "append GPL" type: HIGHLIGHT
   branch develop
   commit id: "branch test"
```

## åˆå¹¶åˆ†æ”¯

å°†å…¶å®ƒåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯

> `git merge <branch-name>`

```mermaid
%%{init: { 'logLevel': 'debug', 'theme': 'base', 'gitGraph': {'showBranches': true, 'showCommitLabel':true,'mainBranchName': 'master'}} }%%
gitGraph
   commit
   commit
   commit
   commit
   commit
   commit id: "append GPL" type: HIGHLIGHT
   branch dev
   commit id: "branch test"
   checkout master
   merge dev
   
```

## åˆ é™¤åˆ†æ”¯

> `git branch -d <name>`

## æŸ¥çœ‹å½“å‰åˆ†æ”¯

`git branch`å‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª`*`å·ã€‚

> `git branch`

![image-20220806121634688](assets/image-20220806121634688.png)

# æ ‡ç­¾ç®¡ç† 

Git å¯ä»¥ç»™ä»“åº“å†å²ä¸­çš„æŸä¸€ä¸ªæäº¤æ‰“ä¸Šæ ‡ç­¾ï¼Œä»¥ç¤ºé‡è¦ã€‚ æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æ˜¯äººä»¬ä¼šä½¿ç”¨è¿™ä¸ªåŠŸèƒ½æ¥æ ‡è®°å‘å¸ƒç»“ç‚¹ï¼ˆ v1.0 ã€ v2.0 ç­‰ç­‰ï¼‰ã€‚

##   åˆ›å»ºæ ‡ç­¾

- è½»é‡æ ‡ç­¾ï¼ˆlightweightï¼‰  ï¼šä¸ä¼šæ”¹å˜çš„åˆ†æ”¯â€”â€”å®ƒåªæ˜¯æŸä¸ªç‰¹å®šæäº¤çš„å¼•ç”¨  

> `git tag <tag name>`

- é™„æ³¨æ ‡ç­¾ï¼ˆannotatedï¼‰  ï¼šå­˜å‚¨åœ¨ Git æ•°æ®åº“ä¸­çš„ä¸€ä¸ªå®Œæ•´å¯¹è±¡ï¼Œ å®ƒä»¬æ˜¯å¯ä»¥è¢«æ ¡éªŒçš„ï¼Œå…¶ä¸­åŒ…å«æ‰“æ ‡ç­¾è€…çš„åå­—ã€ç”µå­é‚®ä»¶åœ°å€ã€æ—¥æœŸæ—¶é—´  

> `git tag -a v1.4 -m "my version 1.4"`  

***-a** é€‰é¡¹æŒ‡å®šæ ‡ç­¾å* 

***-m** é€‰é¡¹æŒ‡å®šäº†ä¸€æ¡å°†ä¼šå­˜å‚¨åœ¨æ ‡ç­¾ä¸­çš„ä¿¡æ¯*  

### æ ¹æ® commit id åˆ›å»ºæ ‡ç­¾

> `git tag <tag name>  <commit id>`

## åˆ é™¤æ ‡ç­¾

- **æ ‡ç­¾æœªæ¨é€åˆ°è¿œç¨‹**

å› ä¸ºåˆ›å»ºçš„æ ‡ç­¾éƒ½åªå­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¸ä¼šè‡ªåŠ¨æ¨é€åˆ°è¿œç¨‹ã€‚æ‰€ä»¥ï¼Œæ‰“é”™çš„æ ‡ç­¾å¯ä»¥åœ¨æœ¬åœ°å®‰å…¨åˆ é™¤ã€‚

> `git tag -d <tag name>`

- **æ ‡ç­¾å·²ç»æ¨é€åˆ°è¿œç¨‹**

1. å…ˆåˆ é™¤æœ¬åœ°æ ‡ç­¾

> `git tag -d <tag name>`

2. å†åˆ é™¤è¿œç¨‹æ ‡ç­¾

> `git push origin :refs/tags/<tag name>`

![image-20220806130352903](assets/image-20220806130352903.png)

## æ¨é€æŸä¸ªæ ‡ç­¾åˆ°è¿œç¨‹

> `git push origin <tag name>`

![image-20220806125809466](assets/image-20220806125809466.png)

- ä¸€æ¬¡æ€§æ¨é€å…¨éƒ¨å°šæœªæ¨é€åˆ°è¿œç¨‹çš„æœ¬åœ°æ ‡ç­¾

    > `git push origin --tags`

## æ ‡ç­¾ä¿¡æ¯

*æ ‡ç­¾ä¸æ˜¯æŒ‰æ—¶é—´é¡ºåºåˆ—å‡ºï¼Œè€Œæ˜¯æŒ‰å­—æ¯æ’åºçš„ã€‚*

### æ˜¾ç¤ºæ‰€æœ‰æ ‡ç­¾

> `git tag`

![image-20220806124458857](assets/image-20220806124458857.png)

### æŸ¥çœ‹æ ‡ç­¾ä¿¡æ¯

> `git show <tag name>`

ğŸ§¨æ³¨æ„ï¼š*æ ‡ç­¾æ€»æ˜¯å’ŒæŸä¸ªcommitæŒ‚é’©ã€‚å¦‚æœè¿™ä¸ªcommitæ—¢å‡ºç°åœ¨masteråˆ†æ”¯ï¼Œåˆå‡ºç°åœ¨å…¶å®ƒåˆ†æ”¯ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸¤ä¸ªåˆ†æ”¯ä¸Šéƒ½å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ ‡ç­¾ã€‚*

# gitç¾åŒ–

## ä¿®æ”¹é…ç½®æ–‡ä»¶

å¦‚æœä½ å®‰è£…çš„æœ‰ VS Codeï¼Œå°±å¯ä»¥ç›´æ¥ `code ~/.minttyrc` æ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œå°†ä¸‹åˆ—ä»£ç å¤åˆ¶ç²˜è´´è¿›å»ã€‚å­—ä½“ä½¿ç”¨`JetBrains Mono` å­—ä½“ã€‚

```
Font=Jetbrains Mono
FontHeight=14
Transparency=low
FontSmoothing=full
Locale=zh_CN
Charset=UTF-8
Columns=88
Rows=26
OpaqueWhenFocused=no
Scrollbar=none
Language=zh_CN

ForegroundColour=255,255,255
BackgroundColour=0,43,54
CursorColour=220,130,71

BoldBlack=128,128,128
Green=64,200,64
BoldGreen=64,255,64
Yellow=190,190,0
BoldYellow=255,255,64
Blue=135,144,255
BoldBlue=30,144,255
Magenta=211,54,130
BoldMagenta=255,128,255
Cyan=64,190,190
BoldCyan=128,255,255
White=250,240,230
BoldWhite=250,240,230

BellTaskbar=no
Term=xterm-256color
FontWeight=400
FontIsBold=no
BellType=0

CtrlShiftShortcuts=yes
ConfirmExit=no
AllowBlinking=yes
BoldAsFont=no
```



